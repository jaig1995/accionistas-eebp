<fuse-loading-bar></fuse-loading-bar>
<div class="w-full h-auto" *ngIf="!pantallaDeCarga">

    <mat-tab-group [selectedIndex]="modoSeleccionado">
        <!-- seccion uno -->
        <mat-tab label="Individual" [disabled]="bloque">
            <div class="w-full h-auto">
                <!-- ALERTA FUSE EXPLICACIÓN -->

                <div class="w-full flex justify-end px-10 mb-4">
                    <div class="flex flex-row space-x-4 ">
                        <p class="font-semibold text-primary">Recargar Formulario</p>
                        <mat-icon svgIcon="feather:rotate-ccw" class="text-accent cursor-pointer" (click)="recargarFormulario()"></mat-icon>
                    </div>
                </div>

                <mat-accordion class="flex flex-col justify-between" multi>
                    <!-- panel de datos apoderado -->
                    <mat-expansion-panel *ngFor="let item of datosVotoApoderado" class="">
                        <mat-expansion-panel-header class="flex flex-row justify-between w-full">
                            <mat-panel-title class="w-full text-accent">
                                Apoderado
                            </mat-panel-title>
                            <mat-panel-description class="flex flex-row justify-between w-full text-accent">
                                {{item.nombres}}

                                <mat-icon svgIcon="heroicons_solid:user-group"></mat-icon>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="w-full mb-4">

                            <app-formulario-votaciones [datosVotante]="item" />
                        </div>
                    </mat-expansion-panel>

                    <!-- panel de datos poderdantes -->
                    <mat-expansion-panel *ngFor="let item of datosVotoPoderdante" class="">
                        <mat-expansion-panel-header class="flex flex-row justify-between w-full">
                            <mat-panel-title class="w-full ">
                                Poderdante
                            </mat-panel-title>
                            <mat-panel-description class="flex flex-row justify-between w-full">
                                {{item.nombres}}

                                <mat-icon>account_circle</mat-icon>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="w-full mb-4">
                            <app-formulario-votaciones [datosVotante]="item" />
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </mat-tab>


        <!-- seccion dos (VOTACION EN BLOQUE E INDIVIDUAL CUANDO NO TIENE PODERDANTES) -->
        <mat-tab label="Bloque" [disabled]="individual">
            <!-- <div class="animated-box my-4">
                <fuse-alert [appearance]="'soft'" [dismissible]="true" [dismissed]="false" [name]="'alertBox4'"
                    [type]="'success'">
                    "La <b>votación en bloque </b>te permite responder con un único formulario, el cual será la
                    respuesta para todos tus representados."
                </fuse-alert>
            </div> -->
            <div class="w-full h-auto" *ngFor="let item of datosVotoApoderado ">
                <app-formulario-votaciones [datosVotante]="item" [poderDantes]="datosVotoPoderdante" />
            </div>
        </mat-tab>

    </mat-tab-group>

</div>



<div class="   p-4  w-full px-10 mt-5 rounded  ransition-opacity duration-500" *ngIf="pantallaDeCarga">
    <div class="animate-pulse flex space-x-4 px-3 w-full bg-white">
        <div class="flex-1 space-y-6  px-15 py-8">
            <div class="h-12 bg-slate-400 rounded "></div>
            <div class="h-12 bg-slate-400 rounded "></div>
            <div class="h-12 bg-slate-400 rounded "></div>
            <div class="h-12 bg-slate-400 rounded "></div>

        </div>
    </div>
</div>
